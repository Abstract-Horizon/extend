<assembly>
  <id>dist</id>
  <formats>
    <format>dir</format>
  </formats>
  <includeBaseDirectory>false</includeBaseDirectory>
  <moduleSets>
    <moduleSet>
      <includes>
        <include>org.abstracthorizon.extend:extend-bootstrap</include>
      </includes>
      <binaries>
        <outputDirectory>bin</outputDirectory>
        <unpack>false</unpack>
      </binaries>
    </moduleSet>
    <moduleSet>
      <includes>
        <include>org.abstracthorizon.extend:extend-core</include>
      </includes>
      <binaries>
        <includeDependencies>true</includeDependencies>
        <outputDirectory>lib</outputDirectory>
        <unpack>false</unpack>
      </binaries>
    </moduleSet>
    <moduleSet>
      <includes>
        <include>org.abstracthorizon.extend:extend-support-client</include>
      </includes>
      <binaries>
        <includeDependencies>false</includeDependencies>
        <outputDirectory>bin</outputDirectory>
        <unpack>false</unpack>
      </binaries>
    </moduleSet>
    <moduleSet>
      <includes>
        <include>org.abstracthorizon.extend:extend-support-server</include>
      </includes>
      <binaries>
        <includeDependencies>false</includeDependencies>
        <outputDirectory>server/default/deploy/support.sar</outputDirectory>
        <unpack>false</unpack>
      </binaries>
    </moduleSet>
    <moduleSet>
      <includes>
        <include>org.abstracthorizon.extend.danube:extend-danube</include>
      </includes>
      <binaries>
        <includeDependencies>true</includeDependencies>
        <dependencySets>
          <dependencySet>
            <includes>
              <include>org.abstracthorizon.danube:danube-service</include>
              <include>org.abstracthorizon.danube.http:danube-http</include>
              <include>org.abstracthorizon.danube:danube-core</include>
            </includes>
          </dependencySet>
        </dependencySets>
        <outputDirectory>server/default/deploy/danube.sar</outputDirectory>
        <unpack>false</unpack>
      </binaries>
    </moduleSet>
    <moduleSet>
      <includes>
        <include>org.abstracthorizon.extend.danube:extend-danube-freemarker</include>
      </includes>
      <binaries>
        <includeDependencies>true</includeDependencies>
        <dependencySets>
          <dependencySet>
            <includes>
              <include>freemarker:freemarker</include>
              <include>org.abstracthorizon.danube.http:danube-freemarker</include>
              <include>org.abstracthorizon.danube.spring:danube-freemarker-spring:jar</include>
            </includes>

            <excludes>
              <!--
              <exclude>org.springframework:*</exclude>
              <exclude>org.slf4j:*</exclude>
              <exclude>javax.activation:activation</exclude>
              -->
              <exclude>org.abstracthorizon.danube.http:danube-http</exclude>
              <exclude>org.abstracthorizon.extend:extend-core</exclude>
              <exclude>org.abstracthorizon.danube:danube-core</exclude>
            </excludes>

          </dependencySet>
        </dependencySets>
        <outputDirectory>server/default/deploy/danube-freemarker.sar</outputDirectory>
        <unpack>false</unpack>
      </binaries>
    </moduleSet>
    <moduleSet>
      <includes>
        <include>org.abstracthorizon.extend:extend-bean-console</include>
      </includes>
      <binaries>
        <includeDependencies>true</includeDependencies>
        <dependencySets>
          <dependencySet>
            <includes>
              <include>org.abstracthorizon.danube.extra:bean-console</include>
              <include>org.abstracthorizon.danube.webdav:danube-webdav</include>
              <include>org.abstracthorizon.danube.webdav:danube-webdav-spring</include>
            </includes>
            <excludes>
              <exclude>javax.activation:activation</exclude>
              <exclude>org.springframework:*</exclude>
              <exclude>aopalliance:aopalliance</exclude>
              <exclude>org.abstracthorizon.danube.http:danube-http</exclude>
              <exclude>org.abstracthorizon.danube.http:danube-freemarker</exclude>
              <exclude>org.abstracthorizon.danube:danube-core</exclude>
              <exclude>org.abstracthorizon.extend:extend-core</exclude>
            </excludes>
          </dependencySet>
        </dependencySets>
        <outputDirectory>server/default/deploy/bean-console.dar</outputDirectory>
        <unpack>false</unpack>
      </binaries>
    </moduleSet>
    <moduleSet>
      <includes>
        <include>org.abstracthorizon.extend:extend-bean-webdav</include>
      </includes>
      <binaries>
        <includeDependencies>true</includeDependencies>
        <dependencySets>
          <dependencySet>
            <includes>
              <include>org.abstracthorizon.danube.extra:bean-console</include>
              <include>org.abstracthorizon.danube.webdav:danube-webdav</include>
              <include>org.abstracthorizon.danube.webdav:danube-webdav-spring</include>
            </includes>
            <excludes>
              <exclude>javax.activation:activation</exclude>
              <exclude>org.springframework:*</exclude>
              <exclude>aopalliance:aopalliance</exclude>
              <exclude>org.abstracthorizon.danube.http:danube-http</exclude>
              <exclude>org.abstracthorizon.danube.http:danube-freemarker</exclude>
              <exclude>org.abstracthorizon.danube:danube-core</exclude>
              <exclude>org.abstracthorizon.extend:extend-core</exclude>
            </excludes>
          </dependencySet>
        </dependencySets>
        <outputDirectory>server/default/deploy/bean-webdav.dar</outputDirectory>
        <unpack>false</unpack>
      </binaries>
    </moduleSet>
  </moduleSets>
  <fileSets>
    <fileSet>
      <directory>bootstrap/bootstrap-static/src/extend/scripts</directory>
      <outputDirectory>bin</outputDirectory>
    </fileSet>
    <fileSet>
      <directory>core/src/extend/server/config</directory>
      <outputDirectory>server/default/config</outputDirectory>
    </fileSet>
    <fileSet>
      <directory>core/src/extend/lib/config</directory>
      <outputDirectory>lib</outputDirectory>
    </fileSet>
    <fileSet>
      <directory>support-server/src/extend/config</directory>
      <outputDirectory>server/default/deploy/support.sar</outputDirectory>
    </fileSet>
    <fileSet>
      <directory>danube/src/extend/config</directory>
      <outputDirectory>server/default/deploy/danube.sar</outputDirectory>
    </fileSet>
    <fileSet>
      <directory>danube-freemarker/src/extend/config</directory>
      <outputDirectory>server/default/deploy/danube-freemarker.sar</outputDirectory>
    </fileSet>
    <fileSet>
      <directory>bean-console/src/extend/config</directory>
      <outputDirectory>server/default/deploy/bean-console.dar</outputDirectory>
    </fileSet>
    <fileSet>
      <directory>bean-webdav/src/extend/config</directory>
      <outputDirectory>server/default/deploy/bean-webdav.dar</outputDirectory>
    </fileSet>
  </fileSets>
</assembly>
